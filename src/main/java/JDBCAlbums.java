import com.mysql.cj.jdbc.Driver;

import java.sql.*;

public class JDBCAlbums {
    public static void main(String[] args) {
//        try {
//        register driver

//            DriverManager.registerDriver(new Driver());

//        create connection

//        Must use codeup_test_db for getConnection. Config is currently set to aadlister_db.

//        create statement

//            Statement statement = connection.createStatement();

//         Inserting Album:

//            Album insertAlbum = new Album(
//                "Post Malone",
//                "Stoney",
//                2013,
//                "Rap/Hip-Hop",
//                50
//            );
//
//            String insertQuery = String.format("INSERT INTO albums (artist, name, release_date, genre, sales) VALUES ('%s', '%s', '%s', '%s', '%s')",
//                    insertAlbum.getArtist(),
//                    insertAlbum.getName(),
//                    insertAlbum.getReleaseDate(),
//                    insertAlbum.getGenre(),
//                    insertAlbum.getSales());
//
//            System.out.println(insertQuery);
//
//            statement.executeUpdate(insertQuery, Statement.RETURN_GENERATED_KEYS);
//            ResultSet resultSet = statement.getGeneratedKeys();
//
//            if (resultSet.next()) {
//                System.out.println("Inserted ID is: " + resultSet.getLong(1));
//            }

//         Updating Album:

//            Album updateAlbum = new Album(
//                    32,
//                    "ALL-AMERIKKKAN BADA$$",
//                    "Joey Bada$$",
//                    2017,
//                    "Rap/Hip-Hop",
//                    25
//            );
//
//            String updateQuery = String.format("UPDATE albums SET artist = '%s', name = '%s', release_date = '%s', genre = '%s', sales = '%s' WHERE id = %d",
//                    updateAlbum.getArtist(),
//                    updateAlbum.getName(),
//                    updateAlbum.getReleaseDate(),
//                    updateAlbum.getGenre(),
//                    updateAlbum.getSales(),
//                    updateAlbum.getId());
//
////            System.out.println(updateQuery);
//
//            int numberOfRowsEffected = statement.executeUpdate(updateQuery);
//
//            System.out.println(numberOfRowsEffected);
//
//        } catch (SQLException throwables) {
//            throwables.printStackTrace();
//        }
    }
}
